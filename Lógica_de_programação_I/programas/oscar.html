<meta charset="utf-8">

<script>

	var votos = [0, 0, 0];
	var filmes = [" Parasita ", "Coringa ", "1917 "];
	var repete = true;

	function mostra(frase) {
		document.write(frase);
		pulaLinha()
	};
	
	function pulaLinha(){
		document.write("<br>");
	};

	function adicionaFilme(){
		var adicao = prompt("Digite o filme que deseja adicionar: ");
		filmes.push(adicao);
		votos.push(0);
	};

	function descobreMaisVotado(){
		var valorMaiorVoto = 0;
	
		for(var i = 0; i < votos.length; i++){
			
			if(votos[i] > valorMaiorVoto){
				valorMaiorVoto = votos[i];			
			};
		};
		return valorMaiorVoto;
	};

	function decobreVencedores(valorMaiorVoto){
		var vencedores = [];

		for(var i = 0; i < votos.length; i++){
			if(votos[i] == valorMaiorVoto){
				vencedores.push(filmes[i]);
			};
		};
		return vencedores;
	};

	

	function declararVencedor(){
		var valorMaiorVoto = descobreMaisVotado();
		var vencedores = decobreVencedores(valorMaiorVoto);
		
		mostra("O vencedores é: \n" + vencedores);
		
	};

	function montaMensagemParaVotacao(){
		var mensagemParaOpcoesDeVoto = '\n';
		for(var i = 0; i < filmes.length; i++){
			mensagemParaOpcoesDeVoto += i + "---" + filmes[i] + "\n";
		};
		return mensagemParaOpcoesDeVoto;

	};

	function mostraVotacao(msg){
		var voto = parseInt(prompt("Escolha seu filme: " + msg));
		votos[voto] = votos[voto] + 1	
	};

	function vota(){
		var msg = montaMensagemParaVotacao(msg);
		mostraVotacao(msg);
	};



	function inicio(){
		while(repete){
			var escolha = prompt("Digite: 1-Ir para a votação 2-Adicionar filme, encerrar votacao");

			switch (escolha) {
				case "1":
					vota();
					break;
				case "2":
					adicionaFilme();
					break;
				default:
					repete = false;
					break;
			}
		};

		declararVencedor();



	}

	inicio();


	
	
	
</script>